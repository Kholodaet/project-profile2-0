import{a as v,i as m,S as y,A as L}from"./assets/vendor-55288c14.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const k="https://portfolio-js.b.goit.study/api/reviews",b=async()=>{try{const r=await v.get(k);if(r.status!==200)throw new Error(r.status);return r.data}catch{throw new Error(iziToast.error({message:msg,class:"error-notification",timeout:5e3,titleColor:"#fff",position:"topRight",backgroundColor:"#EF4040",messageColor:"#fff",progressBarColor:"#B51B1B",close:!0}))}},E=r=>r.map(({_id:t,avatar_url:i,author:s,review:e})=>`<li class="review-card swiper-slide" id="${t}">
            <p class="review-card-text">${e}</p>
            <div class="review-card-author">
             <img class="review-card-author-avata" src="${i}" alt="${s}" alt="review author photo" width="40" height="40" loading="lazy">
              <p class="review-card-author-name">${s}</p>
           </div>
         </li>`).join(""),S=document.querySelector("#review-swiper-list"),q=async()=>{try{const r=await b(),t=E(r);if(!t){m.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"});return}S.insertAdjacentHTML("beforeend",t);const i=new y("#swiper3",{direction:"horizontal",autoHeight:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{768:{slidesPerView:1,spaceBetween:10},1280:{slidesPerView:2,spaceBetween:32}},navigation:{nextEl:".custom-button-next",prevEl:".custom-button-prev"}})}catch{m.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}},p={mobileMenu:document.querySelector(".js-menu"),closeBtn:document.querySelector(".js-close-menu"),openBtn:document.querySelector(".js-open-menu")};p.closeBtn.addEventListener("click",f);p.openBtn.addEventListener("click",f);function f(){p.mobileMenu.classList.toggle("visually-hidden")}const u=document.querySelectorAll(".li-projects"),h=document.querySelector(".load-more");let l=3;function g(r,t){for(let i=r;i<t&&i<u.length;i+=1)u[i].style.display="block"}u.forEach((r,t)=>{t>=l&&(r.style.display="none")});g(0,l);h.addEventListener("click",function(){g(l,l+3),l+=3,l>=u.length&&(h.style.display="none"),window.scrollTo({top:window.scrollY+700,behavior:"smooth"})});function T(){new L(".accordion-container",{openOnInit:[0]})}function M(){const r=document.querySelector(".work-together-form"),t=document.querySelector(".work-together-backdrop"),i=document.querySelector(".work-together-modal-btn-closing"),s=document.querySelector(".work-together-input-email"),e=document.querySelector(".work-together-error-message"),o=document.querySelector(".work-together-address-icon-form"),n=document.querySelector(".work-together-input-message"),d={};r.addEventListener("submit",a=>{if(a.preventDefault(),s.value.trim()!==""&&s.value.trim()!==" ")if(e.classList.remove("active"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.value.trim())===!0){o.classList.remove("hidden"),s.style.color="black",d.email=s.value,d.comment=n.value,console.log(d);const w={method:"POST",body:JSON.stringify(d),headers:{"Content-Type":"application/json; charset=UTF-8"}};fetch("https://portfolio-js.b.goit.study/api/requests",w).then(c=>{if(!c.ok)throw new Error(c.status);return c.json()}).then(c=>{console.log(c),t.classList.add("active"),o.classList.remove("hidden")}).catch(c=>{m.info({title:"Info",message:"Sorry, something went wromg, please check your request once more.",position:"topRight"}),console.log(c)})}else e.innerHTML="Olease input correct Email adress",s.style.color="red",e.classList.add("active");else e.innerHTML="Email cannnot be blank",e.classList.add("active")}),i.addEventListener("click",()=>{t.classList.remove("active"),s.value="",o.classList.add("hidden"),n.value=""}),t.addEventListener("click",a=>{a.target.classList.value!=="work-together-modal-btn-closing"&&a.target.classList.value!=="work-together-modal"&&(t.classList.remove("active"),s.value="",o.classList.add("hidden"),n.value="")}),document.addEventListener("keydown",a=>{a.key==="Escape"&&(t.classList.remove("active"),s.value="",o.classList.add("hidden"),n.value="")})}q();f();g();T();M();
//# sourceMappingURL=commonHelpers.js.map
