import{a as b,i as u,S as L,A as k}from"./assets/vendor-55288c14.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=n(e);fetch(e.href,o)}})();const E="https://portfolio-js.b.goit.study/api/reviews",S=async()=>{try{const r=await b.get(E);if(r.status!==200)throw new Error(r.status);return r.data}catch{throw new Error(iziToast.error({message:msg,class:"error-notification",timeout:5e3,titleColor:"#fff",position:"topRight",backgroundColor:"#EF4040",messageColor:"#fff",progressBarColor:"#B51B1B",close:!0}))}},q=r=>r.map(({_id:t,avatar_url:n,author:s,review:e})=>`<li class="review-card swiper-slide" id="${t}">
            <p class="review-card-text">${e}</p>
            <div class="review-card-author">
             <img class="review-card-author-avata" src="${n}" alt="${s}" alt="review author photo" width="40" height="40" loading="lazy">
              <p class="review-card-author-name">${s}</p>
           </div>
         </li>`).join(""),T=document.querySelector("#review-swiper-list"),M=async()=>{try{const r=await S(),t=q(r);if(!t){u.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"});return}T.insertAdjacentHTML("beforeend",t);const n=new L("#swiper3",{direction:"horizontal",autoHeight:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{768:{slidesPerView:1,spaceBetween:10},1280:{slidesPerView:2,spaceBetween:32}},navigation:{nextEl:".custom-button-next",prevEl:".custom-button-prev"}})}catch{u.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}},f={mobileMenu:document.querySelector(".js-menu"),closeBtn:document.querySelector(".js-close-menu"),openBtn:document.querySelector(".js-open-menu")};f.closeBtn.addEventListener("click",g);f.openBtn.addEventListener("click",g);function g(){f.mobileMenu.classList.toggle("visually-hidden")}const m=document.querySelectorAll(".li-projects"),y=document.querySelector(".load-more");let l=3;function h(r,t){for(let n=r;n<t&&n<m.length;n+=1)m[n].style.display="block"}m.forEach((r,t)=>{t>=l&&(r.style.display="none")});h(0,l);y.addEventListener("click",function(){h(l,l+3),l+=3,l>=m.length&&(y.style.display="none"),window.scrollTo({top:window.scrollY+700,behavior:"smooth"})});function j(){new k(".accordion-container",{openOnInit:[0]})}function B(){const r=document.querySelector(".work-together-form"),t=document.querySelector(".work-together-backdrop"),n=document.querySelector(".work-together-modal-btn-closing"),s=document.querySelector(".work-together-input-email"),e=document.querySelector(".work-together-error-message"),o=document.querySelector(".work-together-address-icon-form"),i=document.querySelector(".work-together-input-message"),p={};r.addEventListener("submit",a=>{a.preventDefault();const d=s.value.trim(),w=i.value.trim();if(d===""||d===" "){e.innerHTML="Email cannot be blank",e.classList.add("active");return}else if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)){if(w===""){u.error({title:"Error",message:"Message cannot be empty",position:"topRight"});return}}else{e.innerHTML="Please input correct Email address",s.style.color="red",e.classList.add("active");return}e.classList.remove("active"),o.classList.remove("hidden"),s.style.color="black",p.email=d,p.comment=w;const v={method:"POST",body:JSON.stringify(p),headers:{"Content-Type":"application/json; charset=UTF-8"}};fetch("https://portfolio-js.b.goit.study/api/requests",v).then(c=>{if(!c.ok)throw new Error(c.status);return c.json()}).then(c=>{console.log(c),t.classList.add("active"),document.body.style.overflow="hidden",o.classList.remove("hidden")}).catch(c=>{u.info({title:"Info",message:"Sorry, something went wrong, please check your request once more.",position:"topRight"}),console.log(c)})}),n.addEventListener("click",()=>{t.classList.remove("active"),document.body.style.overflow="",s.value="",o.classList.add("hidden"),i.value=""}),t.addEventListener("click",a=>{a.target.classList.value!=="work-together-modal-btn-closing"&&a.target.classList.value!=="work-together-modal"&&(t.classList.remove("active"),document.body.style.overflow="",s.value="",o.classList.add("hidden"),i.value="")}),document.addEventListener("keydown",a=>{a.key==="Escape"&&(t.classList.remove("active"),document.body.style.overflow="",s.value="",o.classList.add("hidden"),i.value="")})}M();g();h();j();B();
//# sourceMappingURL=commonHelpers.js.map
