import{a as E,i as p,S,A as T}from"./assets/vendor-55288c14.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();const q="https://portfolio-js.b.goit.study/api/reviews",M=async()=>{try{const t=await E.get(q);if(t.status!==200)throw new Error(t.status);return t.data}catch{throw new Error(iziToast.error({message:msg,class:"error-notification",timeout:5e3,titleColor:"#fff",position:"topRight",backgroundColor:"#EF4040",messageColor:"#fff",progressBarColor:"#B51B1B",close:!0}))}},B=t=>t.map(({_id:o,avatar_url:i,author:s,review:e})=>`<li class="review-card swiper-slide" id="${o}">
            <p class="review-card-text">${e}</p>
            <div class="review-card-author">
             <img class="review-card-author-avata" src="${i}" alt="${s}" alt="review author photo" width="40" height="40" loading="lazy">
              <p class="review-card-author-name">${s}</p>
           </div>
         </li>`).join(""),j=document.querySelector("#review-swiper-list"),O=async()=>{try{const t=await M(),o=B(t);if(!o){p.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"});return}j.insertAdjacentHTML("beforeend",o);const i=new S("#swiper3",{direction:"horizontal",autoHeight:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{768:{slidesPerView:1,spaceBetween:10},1280:{slidesPerView:2,spaceBetween:32}},navigation:{nextEl:".custom-button-next",prevEl:".custom-button-prev"}})}catch{p.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}},g={mobileMenu:document.querySelector(".js-menu"),closeBtn:document.querySelector(".js-close-menu"),openBtn:document.querySelector(".js-open-menu")};g.closeBtn.addEventListener("click",v);g.openBtn.addEventListener("click",v);function v(){g.mobileMenu.classList.toggle("visually-hidden")}const f=document.querySelectorAll(".li-projects"),b=document.querySelector(".load-more");let d=3;function y(t,o){for(let i=t;i<o&&i<f.length;i+=1)f[i].style.display="block"}f.forEach((t,o)=>{o>=d&&(t.style.display="none")});y(0,d);b.addEventListener("click",function(){y(d,d+3),d+=3,d>=f.length&&(b.style.display="none"),window.scrollTo({top:window.scrollY+700,behavior:"smooth"})});function I(){new T(".accordion-container",{openOnInit:[0]})}function P(){const t=document.querySelector(".work-together-form"),o=document.querySelector(".work-together-backdrop"),i=document.querySelector(".work-together-modal-btn-closing"),s=document.querySelector(".work-together-input-email"),e=document.querySelector(".work-together-error-message"),r=document.querySelector(".work-together-address-icon-form"),n=document.querySelector(".work-together-input-message"),h={};t.addEventListener("submit",a=>{a.preventDefault();const u=s.value.trim(),L=n.value.trim();if(u===""||u===" "){e.innerHTML="Email cannot be blank",e.classList.add("active");return}else if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){if(L===""){p.error({title:"Error",message:"Message cannot be empty",position:"topRight"});return}}else{e.innerHTML="Please input correct Email address",s.style.color="red",e.classList.add("active");return}e.classList.remove("active"),r.classList.remove("hidden"),s.style.color="black",h.email=u,h.comment=L;const k={method:"POST",body:JSON.stringify(h),headers:{"Content-Type":"application/json; charset=UTF-8"}};fetch("https://portfolio-js.b.goit.study/api/requests",k).then(c=>{if(!c.ok)throw new Error(c.status);return c.json()}).then(c=>{console.log(c),o.classList.add("active"),document.body.style.overflow="hidden",r.classList.remove("hidden")}).catch(c=>{p.info({title:"Info",message:"Sorry, something went wrong, please check your request once more.",position:"topRight"}),console.log(c)})}),i.addEventListener("click",()=>{o.classList.remove("active"),document.body.style.overflow="",s.value="",r.classList.add("hidden"),n.value=""}),o.addEventListener("click",a=>{a.target.classList.value!=="work-together-modal-btn-closing"&&a.target.classList.value!=="work-together-modal"&&(o.classList.remove("active"),document.body.style.overflow="",s.value="",r.classList.add("hidden"),n.value="")}),document.addEventListener("keydown",a=>{a.key==="Escape"&&(o.classList.remove("active"),document.body.style.overflow="",s.value="",r.classList.add("hidden"),n.value="")})}const l=document.querySelector(".scroll-btn");let w=0,m=!0;window.addEventListener("scroll",function(){let t=window.pageYOffset;t<w&&m?(l.classList.add("is-active-scroll"),m=!1):t>w&&!m?(l.classList.remove("is-active-scroll"),m=!0):t===0&&l.classList.remove("is-active-scroll"),w=t<=0?0:t});l.addEventListener("click",()=>{l.classList.add("rocket-launch"),window.scrollTo({top:0,behavior:"smooth"}),l.classList.remove("is-active-scroll"),setTimeout(()=>{l.classList.remove("rocket-launch")},1e3)});O();v();y();I();P();
//# sourceMappingURL=commonHelpers.js.map
