import{a as E,i as f,S,A as T}from"./assets/vendor-55288c14.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();const q="https://portfolio-js.b.goit.study/api/reviews",M=async()=>{try{const e=await E.get(q);if(e.status!==200)throw new Error(e.status);return e.data}catch{throw new Error(iziToast.error({message:msg,class:"error-notification",timeout:5e3,titleColor:"#fff",position:"topRight",backgroundColor:"#EF4040",messageColor:"#fff",progressBarColor:"#B51B1B",close:!0}))}},B=e=>e.map(({_id:o,avatar_url:i,author:s,review:t})=>`<li class="review-card swiper-slide" id="${o}">
            <p class="review-card-text">${t}</p>
            <div class="review-card-author">
             <img class="review-card-author-avata" src="${i}" alt="${s}" alt="review author photo" width="40" height="40" loading="lazy">
              <p class="review-card-author-name">${s}</p>
           </div>
         </li>`).join(""),O=document.querySelector("#review-swiper-list"),j=async()=>{try{const e=await M(),o=B(e);if(!o){f.error({title:"Error",message:"Sorry, reviews not found.",position:"bottomLeft"});return}O.insertAdjacentHTML("beforeend",o);const i=new S("#swiper3",{direction:"horizontal",autoHeight:!0,scrollbar:{el:".swiper-scrollbar",draggable:!0},keyboard:{enabled:!0,onlyInViewport:!1},breakpoints:{768:{slidesPerView:1,spaceBetween:10},1280:{slidesPerView:2,spaceBetween:32}},navigation:{nextEl:".custom-button-next",prevEl:".custom-button-prev"}})}catch{f.error({title:"Error",message:"Error while fetching reviews from server",position:"bottomLeft"})}},h={mobileMenu:document.querySelector(".js-menu"),closeBtn:document.querySelector(".js-close-menu"),openBtn:document.querySelector(".js-open-menu")};h.closeBtn.addEventListener("click",v);h.openBtn.addEventListener("click",v);function v(){h.mobileMenu.classList.toggle("visually-hidden")}function A(){document.querySelectorAll(".mobile-item").forEach(o=>{o.addEventListener("click",()=>{h.mobileMenu.classList.add("visually-hidden")})})}const p=document.querySelectorAll(".li-projects"),b=document.querySelector(".load-more");let d=3;function y(e,o){for(let i=e;i<o&&i<p.length;i+=1)p[i].style.display="block"}p.forEach((e,o)=>{o>=d&&(e.style.display="none")});y(0,d);b.addEventListener("click",function(){y(d,d+3),d+=3,d>=p.length&&(b.style.display="none"),window.scrollTo({top:window.scrollY+700,behavior:"smooth"})});function C(){new T(".accordion-container",{openOnInit:[0]})}function I(){const e=document.querySelector(".work-together-form"),o=document.querySelector(".work-together-backdrop"),i=document.querySelector(".work-together-modal-btn-closing"),s=document.querySelector(".work-together-input-email"),t=document.querySelector(".work-together-error-message"),r=document.querySelector(".work-together-address-icon-form"),n=document.querySelector(".work-together-input-message"),w={};e.addEventListener("submit",a=>{a.preventDefault();const u=s.value.trim(),L=n.value.trim();if(u===""||u===" "){t.innerHTML="Email cannot be blank",t.classList.add("active");return}else if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u)){if(L===""){f.error({title:"Error",message:"Message cannot be empty",position:"topRight"});return}}else{t.innerHTML="Please input correct Email address",s.style.color="red",t.classList.add("active");return}t.classList.remove("active"),r.classList.remove("hidden"),s.style.color="black",w.email=u,w.comment=L;const k={method:"POST",body:JSON.stringify(w),headers:{"Content-Type":"application/json; charset=UTF-8"}};fetch("https://portfolio-js.b.goit.study/api/requests",k).then(c=>{if(!c.ok)throw new Error(c.status);return c.json()}).then(c=>{console.log(c),o.classList.add("active"),document.body.style.overflow="hidden",r.classList.remove("hidden")}).catch(c=>{f.info({title:"Info",message:"Sorry, something went wrong, please check your request once more.",position:"topRight"}),console.log(c)})}),i.addEventListener("click",()=>{o.classList.remove("active"),document.body.style.overflow="",s.value="",r.classList.add("hidden"),n.value=""}),o.addEventListener("click",a=>{a.target.classList.value!=="work-together-modal-btn-closing"&&a.target.classList.value!=="work-together-modal"&&(o.classList.remove("active"),document.body.style.overflow="",s.value="",r.classList.add("hidden"),n.value="")}),document.addEventListener("keydown",a=>{a.key==="Escape"&&(o.classList.remove("active"),document.body.style.overflow="",s.value="",r.classList.add("hidden"),n.value="")})}const l=document.querySelector(".scroll-btn");let g=0,m=!0;window.addEventListener("scroll",function(){let e=window.pageYOffset;e<g&&m?(l.classList.add("is-active-scroll"),m=!1):e>g&&!m?(l.classList.remove("is-active-scroll"),m=!0):e===0&&l.classList.remove("is-active-scroll"),g=e<=0?0:e});l.addEventListener("click",()=>{l.classList.add("rocket-launch"),window.scrollTo({top:0,behavior:"smooth"}),l.classList.remove("is-active-scroll"),setTimeout(()=>{l.classList.remove("rocket-launch")},1e3)});j();v();A();y();C();I();
//# sourceMappingURL=commonHelpers.js.map
